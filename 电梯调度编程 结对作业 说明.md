# 电梯调度编程 结对作业 说明

### 问题背景

你有没有注意过，办公楼的高峰期，电梯会自动判断去哪个楼层接人、是否停靠、何时关门？  
这些“决策”都是由**电梯调度算法**控制的。它的目标是——在**多个电梯、多个楼层、多个乘客**的情况下，**高效、合理地调度电梯**，使乘客等待时间最短、运行成本最低。本次作业就是希望你可以设计一个电梯算法，能够高效合理地运送乘客。

一般的电梯系统，或者硬件控制都可以拆分为如下两个部分：

| 概念 | 角色 | 说明 |
| --- | --- | --- |
| **下位机** | 预提供 | 控制电梯移动、处理上下客、记录日志；**不做调度** |
| **上位机** | 由你和队友编写 | 接收事件、分析系统状态、**决定电梯去哪** |

---

### 问题的抽象简化

为了有一份最简单的实现逻辑，和专注于核心逻辑，我们在系统中做了一些简化假设：

1.  **我们知道所有乘客上下电梯的目的楼层**
    
2.  **乘客不会放弃等待**
    
3.  **乘客不会在电梯内改变目的地**
    
4.  **乘客上下电梯按先来后到顺序**
    
5.  **乘客不会通过多次上下电梯实现目的地的到达**
    

>  如果你在算法中考虑了这些真实情况，**会被视为加分项**

---

### 本次作业电梯调度系统的组成

1.  **下位机控制系统（预提供）**
    
    *   负责电梯物理移动与开关门
        
    *   控制上下客流程
        
    *   提供 HTTP 接口供你控制电梯
        
    *   每个 tick 后触发事件和系统状态回传
        
2.  **环境模拟器**
    
    *   负责乘客生成
        
    *   控制乘客“到达楼层”、“等待电梯”、“上电梯”、“离开”
        
3.  **事件系统 + 控制接口**
    
    *   你写的程序（上位机）通过监听事件（如有人呼叫电梯、乘客按层按钮等）作出响应
        
    *   控制电梯去某层接送乘客
        

电梯调度规模从1台 3楼（10人）开始，到最大4台 12楼（200人以内）

---

### 什么是Tick？

Tick 是系统运行的**最小时间单位**，类似于时钟节拍（例如每秒触发一次）。系统通过离散的 Tick 推动时间向前，逐步模拟电梯系统的动态过程。其作用为：

1.  **时间同步**：所有操作（如电梯移动、乘客到达）都绑定在 Tick 的时间点上。
    
2.  **状态更新**：每个 Tick 会执行以下操作：
    
    *   检测是否有新乘客到达并生成需求（如楼层按钮按下）。
        
    *   更新电梯位置（例如电梯上升/下降一层）。
        
    *   判断是否需要触发新的调度指令（如电梯是否需要响应呼叫）。
        
3.  **周期性驱动**：类似游戏引擎的帧循环，系统按固定频率（如每秒 1 次）执行 Tick。
    

---

#### 什么是Event？

Event 是系统在关键状态变化时**主动通知上位机**的信号，用于触发特定逻辑处理（如响应乘客呼叫或电梯停靠）。其作用为：

1.  **异步通知**：当某个重要事件发生时（如电梯到达某层），系统立即发送 Event 通知上位机。
    
2.  **行为驱动**：上位机通过监听 Event 实现对电梯的控制（如决定电梯是否开门或改变方向）。
    
3.  **解耦设计**：将系统状态变化与业务逻辑分离，上位机只需关注事件处理，无需主动轮询状态。
    

---

### 编程作业要求

1.  **语言不限**：
    
    *   推荐 Python（预提供事件系统和模拟器）
        
    *   其他语言可用，但需自己实现事件驱动系统并对接HTTP接口
        
2.  **实现一个电梯调度算法**：
    
    *   一期指标是：**所有乘客的等待时间加和，和最短的95%乘客的所有等待时间加和**
        
    *   二期目标将在第二次课后公布
        
3.  **实现图形化界面**（Web 或 GUI）：
    
    *   实时展示电梯状态、电梯位置、乘客情况等
        
    *   可使用网页框架（Flask/Streamlit/React/Vue）或 GUI 库（Tkinter/PyQt）
        
4.  **编程工具：**
    
    *   允许使用Cursor等AI代码编写辅助工具
        
    *   项目的Repo**必须**有历史Commits记录，历史记录应体现上下功能的继承关系，**不能**直接提交一版没有任何历史的代码。
        

---

###  组队要求

*   **分组方式**：2人结对（按照之前的编程经验进行跨组组队，班级共62人），请于 **9月24日前完成组队**
    
*   **组队链接：**[请至钉钉文档查看附件《25.9 现代软件工程 电梯调度编程 组队表》](https://alidocs.dingtalk.com/i/nodes/mweZ92PV6MEDQxX2T9GNypMEWxEKBD6p?iframeQuery=anchorId%3DX02mfuv97cw9jdhb4dxu15)
    
*   **代码发布**：将于 **9月28日发布模拟器与示例代码**
    
*   **第一版说明：**[《结对作业使用说明  10.01更新》](https://alidocs.dingtalk.com/i/nodes/OG9lyrgJPz0Px4aAU90jAk0gWzN67Mw4?utm_scene=person_space)
    

---

### 提交方式与要求

*   **GitHub 或 Gitee 仓库链接，代码可在ubuntu 22.04+上运行，Python版本需>3.11，其他语言不限**
    
*   仓库需包含以下结构：
    

```plaintext
/repo_root
  ├── start.sh         # 一键运行入口（含环境安装 + 程序运行）
  ├── 其他代码
  └── README.md        # 简要说明设计概要和运行依赖
```

### 本地互测建议

队友之间要测试彼此的程序是否能在对方机器上顺利运行。

---

如有问题请联系助教，对本文档有问题，请评论留言。

祝大家项目愉快、结对合作顺利！